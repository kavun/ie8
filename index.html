<!DOCTYPE html>
<html>
  <head>
    <title>IE8 > IE7</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style type="text/css">
      @import url(http://fonts.googleapis.com/css?family=Open+Sans:300,400);
      @import url(http://fonts.googleapis.com/css?family=Source+Code+Pro);

      body {
        font-family: 'Open Sans';
        font-weight: 300;
      }
      h1, h2, h3 {
        font-family: 'Open Sans';
        font-weight: 400;
      }
      .remark-code, .remark-inline-code { font-family: 'Source Code Pro'; }
      .full-image {
        -webkit-background-size: cover;
        -moz-background-size: cover;
        -o-background-size: cover;
        background-size: cover;
        padding: 0;
      }
      .title {
        background-color: rgba(255, 255, 255, 0.4);
      }
    </style>
  </head>
  <body>
    <textarea id="source">

class: center, top, full-image
background-image: url(excited.gif)
<div class="title">
<h1>IE8 > IE7</h1>
</div>
---
IE7 & IE8 comparison → http://caniuse.com/#compare=ie+7,ie+8
-   WAI-ARIA Accessiblity Features
-   querySelector / querySelectorAll
-   localStorage / sessionStorage
-   JSON.parse / JSON.stringify
-   hashchange event
-   CSS outline
-   CSS table display
-   CSS counters
-   CSS3 box-sizing
-   CSS content for pseudo elements
-   Data URIs
-   Cross document messaging
-   Cross origin resource sharing

---

## WAI-ARIA Accesiblity Features

> Semantic information about widgets, structures, and behaviors, in
> order to allow assistive technologies to convey appropriate
> information to persons with disabilities.

> http://www.w3.org/TR/wai-aria/

---

## Examples

`aria-labelledby`, `aria-invalid`, `aria-expanded`, `aria-readonly`

```html
<label for="name">Name</label>
<input type="text" id="name" />

<label id="lblName">Name</label>
<input type="text" aria-labelledby="lblName" />
```
---

## querySelector / querySelectorAll

✗ IE7 vanilla
```js
var inputs = document.getElementsByTagName('input');
var checkboxes = [];
for (var i = 0, l = inputs.length; i < l; i++) {
    if (inputs[i].type === 'checkbox') {
        checkboxes.push(inputs[i]);
    }
}
```
--
✓ jQuery
```js
var checkboxes = $('input[type="checkbox"]');
```
--
★ IE8 vanilla
```js
var checkboxes = document.querySelectorAll('input[type="checkbox"]');
```

---

## querySelector / querySelectorAll

Single element
```js
document.querySelector('input'); // will return only one input
document.querySelectorAll('input'); // will return all inputs
```
--
Select by `id`
```js
// selects a single element with id="lblSoupSize"
document.querySelector('#lblSoupSize');
```
--
Select by `className`
```js
document.querySelectorAll('.soups');
```

---

## querySelector / querySelectorAll

Select by attribute
```js
document.querySelector('[data-soupid="4d7c6b21"]');
```
--
Relative selectors
```js
document.querySelector('.soup .spoon');
```
---

## localStorage / sessionStorage

Persistent storage in the browser

In IE7 we had [cookies](http://www.quirksmode.org/js/cookies.html#ex)

In IE8 →
```
interface Storage {
  readonly attribute unsigned long length;
  DOMString? key(unsigned long index);
  getter DOMString? getItem(DOMString key);
  setter creator void setItem(DOMString key, DOMString value);
  deleter void removeItem(DOMString key);
  void clear();
};
```
---
## JSON.parse / JSON.stringify

In IE7 (ASP.NET Ajax)
```js
var obj = Sys.Serialization.JavaScriptSerializer.serialize(json);
var json = Sys.Serialization.JavaScriptSerializer.deserialize(obj);
```
--
In IE8
```js
var obj = JSON.parse(json);
var json = JSON.stringify(obj);
```
```js
JSON.stringify({ soupOfTheYear: 'black bean' });
// > "{"soupOfTheYear":"black bean"}"
```
---
## Session Storage

In browser storage that persists for a single _page_ session.

What's a session?
- Browser is open
- Persists between page reloads
- New tab or a redirect will create a new _page_ session

Useful for saving state of a page (form fields) in case of accidental refresh by a user.

```js
sessionStorage.setItem('soupOfTheDay', 'tomato');
sessionStorage.getItem('soupOfTheDay');
```
---

## Local Storage

Same as `sessionStorage` but it ...
- persists between redirects
- persists when opening and closing the browser
- exists across a whole domain

```js
localStorage.setItem('soupOfTheWeek', 'bisque');
localStorage.getItem('soupOfTheWeek');
```

```js
var obj = { soup: 'Kale' };

// set with JSON.stringify
localStorage.setItem('soup', JSON.stringify(obj));

// get with JSON.parse
obj = JSON.parse(localStorage.getItem('soup'));
```
---

## hashchange event

```js
window.onhashchange = function () {
    alert(location.hash);
};

function hashTo(hash) {
    location.hash = hash;
}

hashTo('hashySoup');
// > #hashySoup
```

---
class: middle, center
# [CSS outline](http://codepen.io/kavun/pen/axhiv)

---
class: middle, center
# [CSS table display](http://codepen.io/kavun/pen/Jovdn)

---
class: middle, center
# [CSS counters](http://codepen.io/kavun/pen/pGcnk)

---
class: middle, center
# [CSS3 box-sizing](http://codepen.io/kavun/pen/LjFiq?editors=110)

---
class: middle, center
# [CSS content for pseudo elements](http://codepen.io/kavun/pen/slEod)

---
class: middle, center
# [Data URIs](http://codepen.io/kavun/pen/iByxo?editors=100)

---
class: middle, center
# [Cross document messaging]()

cross-origin communication via `window.postMessage`

---
# [Cross origin resource sharing]()

    </textarea>
    <script src="http://gnab.github.io/remark/downloads/remark-latest.min.js" type="text/javascript">
    </script>
    <script type="text/javascript">
      var slideshow = remark.create();
    </script>
  </body>
</html>